/*! connection-vehicle-data 1.8.0 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@seamless/store"),require("@seamless/logger")):"function"==typeof define&&define.amd?define(["exports","@seamless/store","@seamless/logger"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["connection-vehicle-data"]={},e.seamlessStore,e.seamlessLogger)}(this,(function(e,t,n){"use strict";var s,i;e.CTAKeys=void 0,(s=e.CTAKeys||(e.CTAKeys={})).Primary="primary",s.Secondary="secondary",s.Shop="shop",s.Configurator="configurator",s.About="about",s.Enquiry="enquiry",s.Informed="informed",function(e){e.UpdateCta="UPDATE_CTA",e.UpdatePrice="UPDATE_PRICE",e.UpdateConfiguration="UPDATE_CONFIGURATION"}(i||(i={}));const o="OWC_VEHICLE_DATA",r={modelSeries:"",engineConcept:"",subBrands:[]};class VehicleDataConnection extends t.SeamlessConnection{constructor(){super(o)}get initialState(){const e=window.aemNamespace?.vehicleData||window.top?.aemNamespace?.vehicleData||{};return{...r,...e}}getReducer(){return(e=r,t)=>{switch(t.type){case this.getActionType(i.UpdateCta):return{...e,cta:{...e.cta,...t.payload}};case this.getActionType(i.UpdatePrice):return{...e,price:{...e.price,...t.payload}};case this.getActionType(i.UpdateConfiguration):return{...e,configurationId:t.payload};default:return e}}}getPublicDispatchers(){return{setCta:e=>this.getAction(i.UpdateCta,e),setPrice:e=>this.getAction(i.UpdatePrice,e),setConfigurationId:e=>this.getAction(i.UpdateConfiguration,e)}}}const a=new VehicleDataConnection,c=async()=>{const e=t.initializeStore();return await e.addConnection(a)},u=n.initializeLogger("vehicle-data-store-connection");(async()=>{await c(),u.log("Initialised store connection")})(),e.addConnectionVehicleData=c,e.connection=a,e.connectionName=o,e.getConnectionVehicleDataDispatchers=async()=>{const e=t.initializeStore();return await e.getConnectionDispatchers(o)},e.isWithinVehicleContext=()=>new Promise((e=>{t.initializeStore().once(o,(t=>e(Boolean(t.modelSeries))))})),e.version="1.8.0",Object.defineProperty(e,"t",{value:!0})}));
//# sourceMappingURL=index.js.map
